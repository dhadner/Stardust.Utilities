<Window x:Class="BitFields.DemoApp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Stardust BitFields Playground" Height="820" Width="1200"
        Background="{DynamicResource AppBackground}"
        Foreground="White">
    <Grid Margin="12">
        <TabControl Background="{DynamicResource PanelBackground}" BorderBrush="{DynamicResource AccentBrush}" BorderThickness="1">
            <TabItem Header="PE Viewer">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel Margin="16" Orientation="Vertical" TextElement.Foreground="White">
                        <StackPanel Orientation="Horizontal">
                            <Button x:Name="OpenPeButton" Content="Open PE File" Padding="12,6" Click="OnOpenPeFile" />
                            <TextBlock x:Name="PeFilePath" VerticalAlignment="Center" Margin="8,0,0,0" />
                        </StackPanel>

                        <TextBlock Text="&#x25B8; DOS Header Fields" FontWeight="Bold" FontSize="13" Margin="0,16,0,6" Foreground="#FF38BDF8" />
                        <WrapPanel x:Name="PeFieldSummaryPanel" />

                        <TextBlock Text="&#x25B8; COFF Header Hex" FontWeight="Bold" FontSize="13" Margin="0,12,0,6" Foreground="#FF38BDF8" />
                        <Border Background="#FF0B1220" CornerRadius="4" Padding="10,8">
                            <WrapPanel x:Name="PeHexBytesPanel" />
                        </Border>

                        <TextBlock Text="&#x25B8; COFF Header Binary" FontWeight="Bold" FontSize="13" Margin="0,12,0,6" Foreground="#FF38BDF8" />
                        <Border Background="#FF0B1220" CornerRadius="4" Padding="10,8">
                            <WrapPanel x:Name="PeBinaryBitsPanel" />
                        </Border>

                        <TextBlock Text="&#x25B8; Raw Bytes" FontWeight="Bold" FontSize="13" Margin="0,16,0,6" Foreground="#FF38BDF8" />
                        <TextBox x:Name="PeRawBytes" Height="140" TextWrapping="Wrap" VerticalScrollBarVisibility="Auto" Background="#FF0B1220" Foreground="White" FontFamily="Consolas" IsReadOnly="True" />
                    </StackPanel>
                </ScrollViewer>
            </TabItem>

            <TabItem Header="Network Packet Viewer">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel Margin="16" Orientation="Vertical" TextElement.Foreground="White">
                        <TextBlock Text="Paste IPv4/TCP packet bytes (hex, spaces allowed):" />
                        <TextBox x:Name="PacketHexInput" Height="80" TextWrapping="Wrap" VerticalScrollBarVisibility="Auto" Background="#FF0B1220" Foreground="White" FontFamily="Consolas" />
                        <Button Content="Parse Packet" Padding="12,6" Click="OnParsePacket" Margin="0,6,0,0" HorizontalAlignment="Left" />

                        <TextBlock Text="&#x25B8; Fields" FontWeight="Bold" FontSize="13" Margin="0,16,0,6" Foreground="#FF38BDF8" />
                        <WrapPanel x:Name="FieldSummaryPanel" />

                        <TextBlock Text="&#x25B8; Hex" FontWeight="Bold" FontSize="13" Margin="0,12,0,6" Foreground="#FF38BDF8" />
                        <Border Background="#FF0B1220" CornerRadius="4" Padding="10,8">
                            <WrapPanel x:Name="HexBytesPanel" />
                        </Border>

                        <TextBlock Text="&#x25B8; Binary" FontWeight="Bold" FontSize="13" Margin="0,12,0,6" Foreground="#FF38BDF8" />
                        <Border Background="#FF0B1220" CornerRadius="4" Padding="10,8">
                            <WrapPanel x:Name="BinaryBitsPanel" />
                        </Border>

                        <TextBlock Text="&#x25B8; HTTP Payload" FontWeight="Bold" FontSize="13" Margin="0,16,0,6" Foreground="#FF38BDF8" />
                        <TextBox x:Name="HttpPayload" Height="120" TextWrapping="Wrap" VerticalScrollBarVisibility="Auto" Background="#FF0B1220" Foreground="White" FontFamily="Consolas" IsReadOnly="True" />
                    </StackPanel>
                </ScrollViewer>
            </TabItem>

            <TabItem Header="CPU Register Lab">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel Margin="16" Orientation="Vertical" TextElement.Foreground="White">
                        <TextBlock Text="Status Register (16-bit)" FontSize="16" FontWeight="Bold" />
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="Raw Hex" VerticalAlignment="Center" />
                            <TextBox x:Name="CpuRawHex" Width="120" Background="#FF0B1220" Foreground="White" VerticalContentAlignment="Center" FontFamily="Consolas" />
                            <Button Content="Apply" Padding="10,4" Click="OnApplyCpuRaw" />
                        </StackPanel>
                        <WrapPanel Margin="0,8,0,0" ItemHeight="30" ItemWidth="140">
                            <WrapPanel.Resources>
                                <Style TargetType="CheckBox">
                                    <Setter Property="Foreground" Value="White" />
                                </Style>
                            </WrapPanel.Resources>
                            <CheckBox x:Name="FlagCarry" Content="Carry" Checked="OnCpuFlagChanged" Unchecked="OnCpuFlagChanged" />
                            <CheckBox x:Name="FlagZero" Content="Zero" Checked="OnCpuFlagChanged" Unchecked="OnCpuFlagChanged" />
                            <CheckBox x:Name="FlagInterrupt" Content="Interrupt" Checked="OnCpuFlagChanged" Unchecked="OnCpuFlagChanged" />
                            <CheckBox x:Name="FlagDecimal" Content="Decimal" Checked="OnCpuFlagChanged" Unchecked="OnCpuFlagChanged" />
                            <CheckBox x:Name="FlagOverflow" Content="Overflow" Checked="OnCpuFlagChanged" Unchecked="OnCpuFlagChanged" />
                            <CheckBox x:Name="FlagNegative" Content="Negative" Checked="OnCpuFlagChanged" Unchecked="OnCpuFlagChanged" />
                        </WrapPanel>
                        <StackPanel Orientation="Horizontal" Margin="0,8,0,0">
                            <TextBlock Text="Mode" VerticalAlignment="Center" />
                            <Slider x:Name="CpuMode" Minimum="0" Maximum="7" Width="200" ValueChanged="OnCpuModeChanged" />
                            <TextBlock x:Name="CpuModeValue" VerticalAlignment="Center" />
                        </StackPanel>

                        <TextBlock Text="&#x25B8; Fields" FontWeight="Bold" FontSize="13" Margin="0,16,0,6" Foreground="#FF38BDF8" />
                        <WrapPanel x:Name="CpuFieldSummaryPanel" />

                        <TextBlock Text="&#x25B8; Hex" FontWeight="Bold" FontSize="13" Margin="0,12,0,6" Foreground="#FF38BDF8" />
                        <Border Background="#FF0B1220" CornerRadius="4" Padding="10,8">
                            <WrapPanel x:Name="CpuHexBytesPanel" />
                        </Border>

                        <TextBlock Text="&#x25B8; Binary" FontWeight="Bold" FontSize="13" Margin="0,12,0,6" Foreground="#FF38BDF8" />
                        <Border Background="#FF0B1220" CornerRadius="4" Padding="10,8">
                            <WrapPanel x:Name="CpuBinaryBitsPanel" />
                        </Border>

                        <TextBlock Text="Mixed Endian Demo" FontWeight="Bold" Margin="0,12,0,4" />
                        <TextBlock x:Name="MixedEndianSummary" />
                    </StackPanel>
                </ScrollViewer>
            </TabItem>
        </TabControl>
    </Grid>
</Window>
